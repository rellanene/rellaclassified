{% extends "base.html" %}
{% block title %}My Ads{% endblock %}

{% block content %}
<div style="min-height:100vh; background:#FAF3E0; display:flex; justify-content:center; align-items:flex-start; padding:40px 20px;">
    <div style="width:100%; max-width:800px;">

        <h2 style="text-align:center; color:#6C5B7B; margin-bottom:30px;">My Ads</h2>

        {% if ads %}
            <table style="width:100%; border-collapse:collapse; background:#fff; border-radius:12px; box-shadow:0 8px 20px rgba(0,0,0,0.1);">
                <thead>
                    <tr style="background:#C06C84; color:white; text-align:left;">
                        <th style="padding:12px;">Title</th>
                        <th style="padding:12px;">Category</th>
                        <th style="padding:12px;">Province</th>
                        <th style="padding:12px;">Town</th>
                        <th style="padding:12px;">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for ad in ads %}
                    <tr style="border-bottom:1px solid #ddd;">
                        <td style="padding:12px;">{{ ad.title }}</td>
                        <td style="padding:12px;">{{ ad.category_name }}</td>
                        <td style="padding:12px;">{{ ad.province }}</td>
                        <td style="padding:12px;">{{ ad.town }}</td>
                        <td style="padding:12px; display:flex; gap:8px;">
                            <a href="{{ url_for('edit_ad', ad_id=ad.id) }}" 
                               style="background:#6C5B7B; color:white; padding:6px 12px; border-radius:6px; text-decoration:none;">
                               Edit
                            </a>
                            <a href="{{ url_for('delete_ad', ad_id=ad.id) }}" 
                               style="background:#C06C84; color:white; padding:6px 12px; border-radius:6px; text-decoration:none;"
                               onclick="return confirm('Are you sure you want to delete this ad?');">
                               Delete
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p style="text-align:center; color:#2E2E2E;">You have not posted any ads yet.</p>
        {% endif %}

        <a href="/post" style="display:block; text-align:center; margin-top:25px; color:white; background:#C06C84; padding:12px; border-radius:8px; text-decoration:none;">
            Post a New Ad
        </a>
    </div>
</div>
{% endblock %}
